{"categories":[{"title":"github","uri":"https://www.886400.xyz/categories/github/"},{"title":"h3c","uri":"https://www.886400.xyz/categories/h3c/"},{"title":"hugo","uri":"https://www.886400.xyz/categories/hugo/"},{"title":"交换机","uri":"https://www.886400.xyz/categories/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"},{"title":"安装","uri":"https://www.886400.xyz/categories/%E5%AE%89%E8%A3%85/"},{"title":"网神","uri":"https://www.886400.xyz/categories/%E7%BD%91%E7%A5%9E/"}],"posts":[{"content":"H3c交换机通过NTP设置时间 H3c交换机设置时间\n系统视图下，\n设置时区： clock timezone Beijing add 08:00:00\n设置NTP ntp-service enable ntp-service unicast-server 172.16.1.33\n","id":0,"section":"posts","summary":"H3c交换机通过NTP设置时间 H3c交换机设置时间 系统视图下， 设置时区： clock timezone Beijing add 08:00:00 设置NTP ntp-service enable ntp-service unicast-server 172.16.1.33","tags":["交换机"],"title":"H3c交换机通过NTP设置时间","uri":"https://www.886400.xyz/2022/04/4281/","year":"2022"},{"content":"网神 NGFW 三角传输配置\n1. 测试拓扑及说明 内网 web 服务器：192.168.3.100/24，网关为 192.168.3.1，映射公网地址为 1.1.1.100\n内网客户端：192.168.2.100/24，网关为 192.168.2.1\n外网客户端：172.16.1.100/24\nNGFW Ge2：192.168.1.1/24 trust 内网口\nNGFW Ge3：1.1.1.2/24 untrust 外网口\n核心交换机配置默认路由，网关为 192.168.1.1；NGFW 配置一条默认路由，网关为\n1.1.1.1；并配置两条静态路由分别到 192.168.2.0/24 和 192.168.3.0/24 网段，下一跳为\n192.168.1.2。为简化模拟环境，外网客户端直接配置公网地址 1.1.1.1/24，网关为 1.1.1.2。\n在很多客户网络环境中会涉及内网用户通过访问公网地址进而访问内网服务器，如上拓扑图所示，内网服务器 192.168.3.100 映射到公网的地址为 1.1.1.100，内网客户端192.168.2.100 访问 1.1.1.100 时，首先要在 NGFW 的内网口 ge2 做 DNAT，转换后的目的地址即变为内网地址 192.168.3.100，如果 NGFW 不做任何处理直接转发给服务器，服务器收到的终端请求源IP 就为内网地址 192.168.2.100，之后响应包就会直接通过核心交换机路由转发给客户端，不走 NGFW，从而导致流量来回路径不一致，NGFW 状态检测失效。为了解决该问题，我们需要在 NGFW 的内网口做 SNAT，这样访问服务器的源 IP 就会改为防火墙的 IP 地址，保证服务器的响应能正常回包给 NGFW，再转发回客户端。这就是常说的三角传输。\n2. NGFW 配置步骤 2.1 接口配置 2.2 路由配置\n2.3 NAT 配置 2.3.1 DNAT 配置\n第一条为外网用户访问内网服务器的DNAT，入接口为公网口 ge3，映射的公网地址为1.1.1.100；第二条为内网用户访问内网服务器的DNAT，入接口为内网口 ge2，转换后的IP 地址为 192.168.3.100，DNAT 日志如下：\n2.3.2 SNAT 配置\n第一条为内网用户访问互联网的 SNAT，出接口为公网口 ge3；第二条为内网用户访问内网的服务器 SNAT，出接口为内网口 ge2，由于这里的 IP 转换方式为 by_route，所以转换后的 IP 地址为出接口地址 192.168.1.1，SNAT 日志如下：\n2.4 安全策略配置               安全策略日志如下：\n              ","id":1,"section":"posts","summary":"网神 NGFW 三角传输配置 1. 测试拓扑及说明 内网 web 服务器：192.168.3.100/24，网关为 192.168.3.1，映射公网地址为 1.1.1.100 内网客户端：","tags":["网神","网络"],"title":"网神 NGFW 三角传输配置","uri":"https://www.886400.xyz/2022/04/4253/","year":"2022"},{"content":"参考 使用 GitHub Actions 自动部署 Hugo 站点 · 白汤四物\n使用 Github Pages 和 Hugo 搭建个人博客教程 - 云+社区 - 腾讯云\n注意点 如果themes通过git submodule来获取的。\n在github action构建中\n - name: Check out source uses: actions/checkout@v2 with: submodules: true # 此处要修改  ","id":2,"section":"posts","summary":"参考 使用 GitHub Actions 自动部署 Hugo 站点 · 白汤四物 使用 Github Pages 和 Hugo 搭建个人博客教程 - 云+社区 - 腾讯云 注意点 如果themes通过git submodule来获取的","tags":["hugo"],"title":"hugo布置到github.io","uri":"https://www.886400.xyz/2022/04/4271/","year":"2022"},{"content":"ubuntu安装docker 以下为官方安装的内容复制 apt-get install ca-certificates curl gnupg lsb-release curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \\ \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) stable\u0026quot; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update apt-get install docker-ce docker-ce-cli containerd.io curl -L \u0026quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\u0026quot; -o /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose systemctl start docker systemctl enable docker  ","id":3,"section":"posts","summary":"ubuntu安装docker 以下为官方安装的内容复制 apt-get install ca-certificates curl gnupg lsb-release curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \\ \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) stable\u0026quot; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update apt-get install docker-ce docker-ce-cli containerd.io curl -L \u0026quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\u0026quot; -o /usr/local/bin/docker-compose","tags":["ubuntu","docker"],"title":"ubuntu下安装docker","uri":"https://www.886400.xyz/2022/04/4221/","year":"2022"},{"content":"debian安装docker 以下为官方安装的内容复制 apt-get install ca-certificates curl gnupg lsb-release curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \\ \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \\ $(lsb_release -cs) stable\u0026quot; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update apt-get install docker-ce docker-ce-cli containerd.io systemctl start docker systemctl enable docker curl -L \u0026quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\u0026quot; -o /usr/local/bin/docker-compose chmod u+x /usr/local/bin/docker-compose  ","id":4,"section":"posts","summary":"debian安装docker 以下为官方安装的内容复制 apt-get install ca-certificates curl gnupg lsb-release curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \\ \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \\ $(lsb_release -cs) stable\u0026quot; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update apt-get install docker-ce docker-ce-cli containerd.io systemctl start docker systemctl enable docker curl","tags":["debian","docker"],"title":"debian安装docker","uri":"https://www.886400.xyz/2022/04/4222/","year":"2022"}],"tags":[{"title":"debian","uri":"https://www.886400.xyz/tags/debian/"},{"title":"docker","uri":"https://www.886400.xyz/tags/docker/"},{"title":"hugo","uri":"https://www.886400.xyz/tags/hugo/"},{"title":"ubuntu","uri":"https://www.886400.xyz/tags/ubuntu/"},{"title":"交换机","uri":"https://www.886400.xyz/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"},{"title":"网神","uri":"https://www.886400.xyz/tags/%E7%BD%91%E7%A5%9E/"},{"title":"网络","uri":"https://www.886400.xyz/tags/%E7%BD%91%E7%BB%9C/"}]}